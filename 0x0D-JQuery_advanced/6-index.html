<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 0</title>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

    </head>

    <body>
        <script type="application/javascript">
            function createFamilyTree() {
          $("body").append(
            $("<table> </table>").append(
              $("<thead> </thead>").append(
                $("<tr> </tr>").append(
                  $("<th> </th>").text("Firstname"),
                  $("<th> </th>").text("Lastname")
                )
              ),
              $("<tbody> </tbody>").append()
            )
          );
        }
        
        function addNewMember(firstName, lastName, position) {

          let $nwline = $("<tr></tr>");

          let $delete = $("<td>(x)</td>").css("background-color", "orange");

          let $lineentry = $(`
            <td>${firstName}</td>
            <td>${lastName}</td>
          `);

          $nwline.append($lineentry, $delete);

          $delete.click(function () {
            $nwline.remove();
          });

          if (position === "before") {
            $("table > tbody").prepend($nwline);
          } else {
            $("table > tbody").append($nwline);
          }
        }

        function createForm() {
          $form = $("<form></form>");

          $("table").before("<input type='text'>");
          $("table").before("<input type='text'>");
          $("table").before(`
              <select>
                <option value='before'>Before</option>
                <option value='after'">After</option>
              </select>
          `);
          $("table").before("<input type='submit'>");

          $("input:nth-of-type(3)").click(function () {
            firstName = $("input").val();
            lastName = $("input:nth-of-type(2)").val();
            position = $("select").val();
            addNewMember(firstName, lastName, position);
          });
        }


        createFamilyTree();
        createForm();
        
        </script>
    </body>

</html>
